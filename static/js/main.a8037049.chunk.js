(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){},44:function(e,t,a){e.exports=a(83)},49:function(e,t,a){},65:function(e,t){},67:function(e,t){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(42),c=a.n(s),r=(a(49),a(15)),o=a(16),l=a(18),u=a(17),d=a(19),h=a(1),m=(a(28),a(43)),v=a.n(m),f=a(27),p=a.n(f),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).click=a.click.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"click",value:function(){this.props.toggleFav(this.props.item)}},{key:"parse",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"render",value:function(){var e=this.props.item;return e.favorite?i.a.createElement("div",{id:e.id,className:"display"},i.a.createElement("div",{className:"left"},i.a.createElement("button",{id:"icon"+e.id,onClick:this.click,className:"fa fa-star fav"}),i.a.createElement("span",{className:"title"},"   ",e.title," ")),i.a.createElement("div",{className:"right"},p()(this.parse(e.body)))):i.a.createElement("div",{id:e.id,className:"display"},i.a.createElement("div",{className:"left"},i.a.createElement("button",{id:"icon"+e.id,onClick:this.click,className:"fa fa-star notfav"}),i.a.createElement("span",{className:"title"},"   ",e.title," ")),i.a.createElement("div",{className:"right"},p()(this.parse(e.body))))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={items:[],filteredItems:[],isLoaded:!1,count:0,favs:0},a.Change=a.Change.bind(Object(h.a)(Object(h.a)(a))),a.toggleFav=a.toggleFav.bind(Object(h.a)(Object(h.a)(a))),a.renderFavs=a.renderFavs.bind(Object(h.a)(Object(h.a)(a))),a.clear=a.clear.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then(function(e){return e.json()}).then(function(a){return a.map(function(a){t.push({body:a.body,category:a.category,title:a.title,keywords:a.keywords,favorite:!1,id:e.state.count+1}),e.setState({items:t,isLoaded:!0,count:e.state.count+1})})}).catch(function(e){alert(e)})}},{key:"toggleFav",value:function(e){var t=[],a=this.state.favs;this.state.items.map(function(n){n===e&&(e.favorite?(e.favorite=!1,a--):(e.favorite=!0,a++)),t.push(n)}),this.setState({items:t,favs:a})}},{key:"clear",value:function(e){""===e&&this.setState({filteredItems:[]})}},{key:"Change",value:function(e){var t=[],a=this.state.items,n=e;a.filter(function(e){var a=e.keywords.split(" ");(a=(a=a.join()).replace(/[^a-z0-9]/gi,"")).includes(n.toLowerCase())&&""!==n&&!t.includes(e)&&t.push(e)}),this.setState({filteredItems:t})}},{key:"renderFavs",value:function(){var e=this;if(this.state.favs>0){var t=[];return this.state.items.map(function(e){e.favorite&&t.push(e)}),i.a.createElement("div",{className:"Favorites"},i.a.createElement("h1",{style:{color:"green"}}," Favorites"),t.map(function(t,a){return i.a.createElement(b,{item:t,toggleFav:e.toggleFav})}))}}},{key:"render",value:function(){var e=this,t=this.state.filteredItems;return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{className:"header"}," Toronto Waste Lookup "),i.a.createElement(v.a,{placeholder:"Search...",searchText:"",classNames:"searchBar",onChange:this.clear,onEnter:this.Change,onSearchClick:this.Change}),t.map(function(t,a){return i.a.createElement(b,{item:t,toggleFav:e.toggleFav})}),this.renderFavs())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.a8037049.chunk.js.map